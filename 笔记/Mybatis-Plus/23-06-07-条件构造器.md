# 条件构造器

在MP中，Wrapper接口的实现类关系如下：

![1686114351317](image/23-06-07-条件构造器/1686114351317.png)

* Wrapper ： 条件构造抽象类，最顶端父类
* AbstractWrapper ： 用于查询条件封装，生成 sql 的 where 条件
* QueryWrapper ： 查询条件封装
* UpdateWrapper ： Update 条件封装
* AbstractLambdaWrapper ： 使用Lambda 语法
* LambdaQueryWrapper ：用于Lambda语法使用的查询Wrapper
* LambdaUpdateWrapper ： Lambda 更新封装Wrapper

## QueryWrapper

### 组装查询条件

![1686114426242](image/23-06-07-条件构造器/1686114426242.png)

### 组装排序条件

![1686114438236](image/23-06-07-条件构造器/1686114438236.png)

### 组装删除条件

![1686114448718](image/23-06-07-条件构造器/1686114448718.png)

### 条件的优先级

![1686114461170](image/23-06-07-条件构造器/1686114461170.png)

### 组装select子句

![1686114501025](image/23-06-07-条件构造器/1686114501025.png)

### 实现子查询

![1686114512841](image/23-06-07-条件构造器/1686114512841.png)

## UpdateWrapper

![1686114565600](image/23-06-07-条件构造器/1686114565600.png)
![1686114573035](image/23-06-07-条件构造器/1686114573035.png)

## condition

在真正开发的过程中，组装条件是常见的功能，而这些条件数据来源于用户输入，是可选的，因此我们在组装这些条件时，必须先判断用户是否选择了这些条件，若选择则需要组装该条件，若没有选择则一定不能组装，以免影响SQL执行的结果

### 思路一

![1686114627103](image/23-06-07-条件构造器/1686114627103.png)

### 思路二

上面的实现方案没有问题，但是代码比较复杂，我们可以使用带condition参数的重载方法构建查询条件，简化代码的编写

![1686114649573](image/23-06-07-条件构造器/1686114649573.png)
![1686114657165](image/23-06-07-条件构造器/1686114657165.png)

## LambdaQueryWrapper

![1686114728913](image/23-06-07-条件构造器/1686114728913.png)

## LambdaUpdateWrapper

![1686114742739](image/23-06-07-条件构造器/1686114742739.png)
