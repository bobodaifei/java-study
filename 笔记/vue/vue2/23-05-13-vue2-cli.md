# vue-cli

## ä»€ä¹ˆæ˜¯å•é¡µé¢åº”ç”¨ç¨‹åº

![1683971894232](image/vue2.x(2)/1683971894232.png)

## ä»€ä¹ˆæ˜¯ vue-cli

![1683971910826](image/vue2.x(2)/1683971910826.png)

ä¸­æ–‡å®˜ç½‘ğŸ”—ï¼š [Vue CLI](https://cli.vuejs.org/zh/ "Vue CLI")

## å®‰è£…å’Œä½¿ç”¨

![1683971932879](image/vue2.x(2)/1683971932879.png)

å®‰è£…vue-cliæ—¶å¦‚æœæŠ¥é”™æ²¡æœ‰æƒé™ï¼Œä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œcmdå‘½ä»¤ç»ˆç«¯å†å®‰è£…ã€‚

ç»ˆç«¯è¾“å…¥â€œvue -Vå›è½¦â€ï¼Œå¯ä»¥æ˜¾ç¤ºç‰ˆæœ¬å·çš„è¯è¯´æ˜å®‰è£…æˆåŠŸã€‚

![1683971968037](image/vue2.x(2)/1683971968037.png)

æ¥ä¸‹æ¥æ˜¯ç”Ÿæˆå·¥ç¨‹åŒ–Vueé¡¹ç›®ï¼Œåœ¨å“ªä¸ªç›®å½•ä¸‹åˆ›å»ºé¡¹ç›®ï¼Œå°±åœ¨å“ªä¸ªç›®å½•ä¸‹æ‰“å¼€cmdç»ˆç«¯ï¼ˆåœ¨ç›®å½•å¤„å…¨é€‰è¾“å…¥cmdå›è½¦ï¼‰ï¼Œè¾“å…¥å‘½ä»¤â€œvue create é¡¹ç›®åç§°ï¼ˆè‹±æ–‡ï¼Œ-è¿æ¥ï¼‰â€ã€‚

![1683971962691](image/vue2.x(2)/1683971962691.png)

å›è½¦è¿›å…¥ç¬¬ä¸€ä¸ªé¢æ¿ï¼Œä½¿ç”¨ä¸Šä¸‹æ–¹å‘é”®é€‰æ‹©ä¸€ä¸ªé¢„è®¾

![1683971987632](image/vue2.x(2)/1683971987632.png)

åˆ†åˆ«ä¸ºé»˜è®¤Vue2ã€é»˜è®¤Vue3ã€è‡ªå®šä¹‰å®‰è£…ï¼Œå»ºè®®é€‰æ‹©æœ€åä¸€é¡¹æ‰‹åŠ¨é€‰æ‹©ï¼ˆå¯å®šåˆ¶æ€§æ›´é«˜ï¼‰ï¼Œå›è½¦

è¿›å…¥ç¬¬äºŒä¸ªé¢æ¿ï¼Œé€‰æ‹©åœ¨é¡¹ç›®ä¸­å®‰è£…å“ªäº›åŠŸèƒ½ï¼ˆæŒ‰éœ€ï¼‰

![1683972009978](image/vue2.x(2)/1683972009978.png)

ä¸Šä¸‹æ–¹å‘é”®é€‰æ‹©åŠŸèƒ½ï¼Œç©ºæ ¼é”®é€‰ä¸­åŠŸèƒ½ï¼ˆæ‰“ä¸Š*å·ï¼‰æˆ–å–æ¶ˆé€‰ä¸­ï¼Œè¿™é‡Œé€‰ä¸­ç¬¬ä¸€é¡¹é€‰æ‹©Vueç‰ˆæœ¬ã€ç¬¬äºŒé¡¹å®‰è£…Babelï¼ˆè§£å†³å…¼å®¹æ€§ï¼‰ã€CSS-Pre-processorså®‰è£…CSSé¢„å¤„ç†å™¨ã€‚ é»˜è®¤é€‰ä¸­äº†Linter/Formaterä»£ç è§„èŒƒï¼Œå–æ¶ˆè¯¥é€‰é¡¹ï¼ˆå› ä¸ºå¤ªä¸¥æ ¼äº†ï¼Œå¤šä¸€ä¸ªç©ºæ ¼éƒ½ä¼šæŠ¥é”™ï¼Œåé¢å†è®²è¿°å¦‚ä½•ä½¿ç”¨ï¼‰ã€‚å›è½¦ã€‚

è¿›å…¥ä¸‹ä¸€ä¸ªé¢æ¿å°±ï¼Œé€‰æ‹©Vueç‰ˆæœ¬

![1683972077312](image/vue2.x(2)/1683972077312.png)

è¿™é‡Œé€‰æ‹©2.xï¼Œå›è½¦ã€‚

è¿›å…¥ä¸‹ä¸€ä¸ªé¢æ¿ï¼Œé€‰æ‹©CSSé¢„å¤„ç†å™¨

![1683972094631](image/vue2.x(2)/1683972094631.png)

è¿™é‡Œé€‰æ‹©LESSï¼Œå›è½¦ã€‚

è¿›å…¥ä¸‹ä¸€ä¸ªé¢æ¿ï¼Œé€‰æ‹©ç¬¬ä¸‰æ–¹æ’ä»¶çš„é…ç½®æ–‡ä»¶æ˜¯ç‹¬ç«‹æ”¾è¿˜æ˜¯æ”¾package.jsoné‡Œ

![1683972125436](image/vue2.x(2)/1683972125436.png)

å»ºè®®é€‰æ‹©ç¬¬ä¸€é¡¹è‡ªå·±ç®¡è‡ªå·±çš„ã€‚å›è½¦ã€‚

è¿›å…¥ä¸‹ä¸€ä¸ªé¢æ¿ï¼Œæ˜¯å¦å°†ä»¥ä¸Šé€‰é¡¹è®¾ç½®ä¸ºä¸€ä¸ªé¢„è®¾

![1683972145382](image/vue2.x(2)/1683972145382.png)

è¿™é‡Œé€‰æ‹©yï¼Œå¹¶èµ·åä¸ºbj-132ã€‚å›è½¦ï¼Œå¼€å§‹åˆ›å»ºé¡¹ç›®ã€‚

* ç¬¬ä¸€æ¬¡åˆ›å»ºå¯èƒ½ä¼šå¤šä¸€ä¸ª é€‰æ‹©ä¸‹è½½ä¾èµ–ä½¿ç”¨çš„å‘½ä»¤ çš„é¢æ¿ï¼Œé€‰æ‹©npmæˆ–yarnï¼ˆå¦‚æœå¸Œæœ›ä¸‹è½½é€Ÿåº¦å¿«ä¸€äº›å¯é€‰æ‹©yarnï¼Œæ³¨æ„yarnçš„å‘½ä»¤å’Œnpmä¸ä¸€æ ·ï¼‰ï¼Œæœ¬æ–‡ä»¥npmä¸ºä¾‹ã€‚
* åˆ›å»ºçš„æ—¶å€™é¼ æ ‡åˆ«åœ¨çª—å£ä¹±æ™ƒï¼Œè¦æ˜¯è¢«â€œå†»ç»“â€äº†ï¼ˆè¿›åº¦æ¡ä¸åŠ¨äº†ï¼‰ï¼Œé€‰ä¸­çª—å£ï¼ŒæŒ‰ctrl cè§£å†»ã€‚

![1683972188878](image/vue2.x(2)/1683972188878.png)

å°±åƒæç¤ºçš„ç»¿è‰²å‘½ä»¤é‚£æ ·ï¼Œæƒ³è¦å¼€å§‹è¿›è¡Œé¡¹ç›®å¼€å‘ï¼Œæ‰§è¡Œcd demo-firstï¼ˆè¿›å…¥demo-firstç›®å½•ï¼‰ã€npm run serveï¼ˆè·‘é¡¹ç›®ï¼‰ã€‚

ç”¨vscodeæ‰“å¼€é¡¹ç›®ï¼ˆå³é”®é¡¹ç›®æ–‡ä»¶å¤¹é€‰æ‹©ç”¨vscodeæ‰“å¼€ï¼Œè¿™é‡Œæ˜¯demo-firstï¼‰ï¼ŒæŸ¥çœ‹package.jsonçš„scriptè„šæœ¬ã€‚

![1683972260286](image/vue2.x(2)/1683972260286.png)

serveæ˜¯å¼€å‘é˜¶æ®µè¦è¿è¡Œçš„å‘½ä»¤ï¼ˆnpm run serveï¼‰ï¼›buildæ˜¯é¡¹ç›®å¼€å‘å®Œè¦ä¸Šçº¿æ—¶è¦è¿è¡Œçš„å‘½ä»¤ï¼ˆnpm run buildï¼‰ ã€‚

## ç›®å½•ç»“æ„

```
â”œâ”€â”€ node_modules 
â”œâ”€â”€ public
â”‚   â”œâ”€â”€ favicon.ico: é¡µç­¾å›¾æ ‡
â”‚   â””â”€â”€ index.html: ä¸»é¡µé¢
â”œâ”€â”€ src
â”‚   â”œâ”€â”€ assets: å­˜æ”¾é™æ€èµ„æº
â”‚   â”‚   â””â”€â”€ logo.png
â”‚   â”‚â”€â”€ component: å­˜æ”¾ç»„ä»¶
â”‚   â”‚   â””â”€â”€ HelloWorld.vue
â”‚   â”‚â”€â”€ App.vue: æ±‡æ€»æ‰€æœ‰ç»„ä»¶
â”‚   â”‚â”€â”€ main.js: å…¥å£æ–‡ä»¶
â”œâ”€â”€ .gitignore: gitç‰ˆæœ¬ç®¡åˆ¶å¿½ç•¥çš„é…ç½®
â”œâ”€â”€ babel.config.js: babelçš„é…ç½®æ–‡ä»¶
â”œâ”€â”€ package.json: åº”ç”¨åŒ…é…ç½®æ–‡ä»¶ 
â”œâ”€â”€ README.md: åº”ç”¨æè¿°æ–‡ä»¶
â”œâ”€â”€ package-lock.jsonï¼šåŒ…ç‰ˆæœ¬æ§åˆ¶æ–‡ä»¶

```

![1683972288109](image/vue2.x(2)/1683972288109.png)

* node_modulesä¸‹æ˜¯æ‰€æœ‰çš„ç¬¬ä¸‰æ–¹åŒ…ï¼›
* srcä¸‹æ˜¯é¡¹ç›®çš„æºä»£ç ï¼›
* publicå…¬å…±èµ„æºæ–‡ä»¶å¤¹ä¸‹çš„faviconæ˜¯ç½‘ç«™çš„å°å›¾æ ‡ï¼›
* index.htmlæ˜¯å•é¡µé¢ç¨‹åºçš„é¦–é¡µï¼Œæ‰“å¼€çœ‹çœ‹ï¼š

![1683972329460](image/vue2.x(2)/1683972329460.png)

æ³¨é‡Šçš„æ„æ€æ˜¯ ç”Ÿæˆçš„æ–‡ä»¶å°†ä¼šè‡ªåŠ¨è¢«æ³¨å…¥åˆ°è¿™é‡Œã€‚

ï¼ˆä¹‹å‰ä»‹ç»è¿‡ html-webpack-plugin ä¼šæŠŠç”Ÿæˆçš„bundle.js è‡ªåŠ¨æ³¨å…¥åˆ°é¡µé¢ä¸­ ï¼‰

åœ¨æµè§ˆå™¨ä¸­æŸ¥çœ‹index.htmlçš„æºç ï¼š

![1683972584187](image/vue2.x(2)/1683972584187.png)

vue-cliåœ¨æ³¨é‡Šçš„åœ°æ–¹å¸®æˆ‘ä»¬newäº†ä¸€ä¸ªVueçš„æ„é€ å‡½æ•°ã€‚

æ¥ä¸‹æ¥éƒ½æ˜¯äº›é…ç½®æ–‡ä»¶ï¼š

![1683972658709](image/vue2.x(2)/1683972658709.png)

* .gitignoreï¼š gitå¿½ç•¥çš„æ–‡ä»¶ï¼›
* babel.config.jsï¼šbabelé…ç½®æ–‡ä»¶ï¼›
* package.jsonï¼šåŒ…ç®¡ç†é…ç½®æ–‡ä»¶ï¼›

srcæºä»£ç ä¸­çš„æ–‡ä»¶

* assetsæ–‡ä»¶å¤¹ï¼šå­˜æ”¾é¡¹ç›®ä¸­ç”¨åˆ°çš„é™æ€èµ„æºæ–‡ä»¶ï¼Œä¾‹å¦‚ cssæ ·å¼è¡¨ã€å›¾ç‰‡èµ„æºï¼›
* componentsæ–‡ä»¶å¤¹ï¼šç¨‹åºå‘˜å°è£…çš„ã€å¯å¤ç”¨çš„æ–‡ä»¶ï¼›
* main.jsï¼šæ˜¯é¡¹ç›®çš„å…¥å£æ–‡ä»¶ï¼Œæ•´ä¸ªé¡¹ç›®çš„æ‰§è¡Œï¼Œè¦æ‰§è¡Œmain.jsï¼ˆwebpacké…ç½®æ–‡ä»¶ä¸­çš„entryï¼‰ï¼›
* App.vueï¼šæ˜¯é¡¹ç›®çš„æ ¹ç»„ä»¶ã€‚

## vue é¡¹ç›®çš„è¿è¡Œæµç¨‹

åœ¨å·¥ç¨‹åŒ–çš„é¡¹ç›®ä¸­ï¼ˆæ­¤å¤„æ˜¯vue-cliåˆ›å»ºå‡ºæ¥çš„ï¼‰ï¼Œvue è¦åšçš„äº‹æƒ…å¾ˆå•çº¯ï¼šé€šè¿‡ main.js æŠŠ App.vue æ¸²æŸ“åˆ° index.html çš„æŒ‡å®šåŒºåŸŸä¸­ã€‚

å…¶ä¸­ï¼š

1. App.vue ç”¨æ¥ç¼–å†™å¾…æ¸²æŸ“çš„æ¨¡æ¿ç»“æ„
2. index.html ä¸­éœ€è¦é¢„ç•™ä¸€ä¸ª el åŒºåŸŸ
3. main.js æŠŠ App.vue æ¸²æŸ“åˆ°äº† index.html æ‰€é¢„ç•™çš„åŒºåŸŸä¸­

æ€ä¹ˆæ¸²æŸ“çš„å‘¢ï¼š

```javascript
// å¯¼å…¥ vue è¿™ä¸ªåŒ…ï¼Œå¾—åˆ° Vue æ„é€ å‡½æ•°
import Vue from 'vue'
// å¯¼å…¥ App.vue æ ¹ç»„ä»¶ï¼Œå°†æ¥è¦æŠŠ App.vue ä¸­çš„æ¨¡æ¿ç»“æ„ï¼Œæ¸²æŸ“åˆ° HTML é¡µé¢ä¸­
import App from './App.vue'

Vue.config.productionTip = false

// åˆ›å»º Vue çš„å®ä¾‹å¯¹è±¡
new Vue({
  // æŠŠ render å‡½æ•°æŒ‡å®šçš„ç»„ä»¶ï¼Œæ¸²æŸ“åˆ° HTML é¡µé¢ä¸­
  render: h => h(App)
}).$mount('#app')

// Vue å®ä¾‹çš„ $mount() æ–¹æ³•ï¼Œä½œç”¨å’Œ el å±æ€§å®Œå…¨ä¸€æ ·ï¼
```

renderå‡½æ•°çš„ä½œç”¨ï¼šè®©æŒ‡å®šçš„ç»“æ„æ›¿æ¢æ‰Vueæ§åˆ¶åŒºåŸŸelæ‰€åœ¨çš„ç»“æ„ã€‚

å³ï¼Œindex.htmlä¸­çš„ `<div id="app"></div>`ç›¸å½“äºä¸€ä¸ªå ä½ç¬¦ï¼Œä¼šè¢«App.vueä¸­çš„æ¨¡æ¿è¯­æ³•æ›¿æ¢

.$mountå‡½æ•°çš„ä½œç”¨å’ŒæŒ‡å®šelä¸€æ ·

renderå‡½æ•°ä¸­æ¸²æŸ“çš„æ˜¯å“ªä¸ª.vueç»„ä»¶ï¼Œé‚£ä¹ˆè¿™ä¸ªç»„ä»¶å°±å«åšâ€œæ ¹ç»„ä»¶â€ã€‚

## ç»„ä»¶çš„åŸºæœ¬ä½¿ç”¨(æ›¿æ¢App.vue)

åœ¨Componentæ–‡ä»¶å¤¹ä¸‹æ–°å»ºç»„ä»¶Test.vue

```html
<template>
  <div>
    <h3>
      è¿™æ˜¯ç”¨æˆ·è‡ªå®šä¹‰çš„Test.vue
    </h3>
  </div>
</template>
```

åœ¨main.jsä¸­å¯¼å…¥è¯¥ç»„ä»¶ï¼Œå¹¶ä½¿ç”¨è¯¥ç»„ä»¶

```javascript
import Test from './Test.vue'
...
new Vue({
  el:'#app',
  render: h=>h(Test)
}).$mount('#app')
```

 è¿™æ—¶Test.vueä¸­çš„æ¨¡æ¿ç»“æ„ä¼šæ›¿ä»£index.htmlä¸­idä¸ºappçš„div

å†å†™ä¸ªåº”ç”¨.$mountçš„æ¡ˆä¾‹ï¼š

```html
<div id="app">{{username}}</div>

  <script src="./lib/vue-2.6.12.js"></script>
  <script>
    const vm = new Vue({
      data: {
        username: 'admin'
      }
    })

    vm.$mount('#app')
  </script>
```
