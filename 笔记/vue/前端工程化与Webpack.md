# å‰ç«¯å·¥ç¨‹åŒ–

## ç°ä»£åŒ–å‰ç«¯ç¼–ç¨‹

æ¨¡å—åŒ–ï¼ˆ**js**çš„æ¨¡å—åŒ–ã€CSSçš„æ¨¡å—åŒ–ã€èµ„æºçš„æ¨¡å—åŒ–ï¼‰

ç»„ä»¶åŒ–ï¼ˆå¤ç”¨ç°æœ‰çš„**UI** **ç»“æ„ã€æ ·å¼** ã€è¡Œä¸ºï¼‰

è§„èŒƒåŒ–ï¼ˆç›®å½•ç»“æ„çš„åˆ’åˆ†ã€ç¼–ç è§„èŒƒåŒ–ã€æ¥å£è§„èŒƒåŒ–ã€æ–‡æ¡£è§„èŒƒåŒ–ã€Gitåˆ†æ”¯ç®¡ç†ï¼‰

è‡ªåŠ¨åŒ–ï¼ˆè‡ªåŠ¨åŒ–æ„å»ºã€è‡ªåŠ¨éƒ¨ç½²ã€è‡ªåŠ¨åŒ–æµ‹è¯•ï¼‰

## å‰ç«¯å·¥ç¨‹åŒ–

æ˜¯æŒ‡ï¼šåœ¨ä¼ä¸šçº§çš„å‰ç«¯é¡¹ç›®å¼€å‘ä¸­ï¼ŒæŠŠå‰ç«¯å¼€å‘æ‰€éœ€çš„å·¥å…·ã€æŠ€æœ¯ã€æµç¨‹ã€ç»éªŒç­‰è¿›è¡Œè§„èŒƒåŒ–ã€æ ‡å‡†åŒ–ã€‚

ä¼ä¸šä¸­çš„Vueé¡¹ç›®å’ŒReacté¡¹ç›®éƒ½æ˜¯åŸºäºå·¥ç¨‹åŒ–çš„æ–¹å¼è¿›è¡Œå¼€å‘çš„ã€‚

ä¼˜ç‚¹ï¼šå‰ç«¯å¼€å‘è‡ªæˆä½“ç³»ï¼Œæœ‰ä¸€å¥—æ ‡å‡†çš„å¼€å‘æ–¹æ¡ˆå’Œæµç¨‹ã€‚

## å‰ç«¯å·¥ç¨‹åŒ–çš„è§£å†³æ–¹æ¡ˆ

ç›®å‰ä¸»æµçš„å‰ç«¯å·¥ç¨‹åŒ–è§£å†³æ–¹æ¡ˆï¼š

**webpack ( [ğŸ”—ï¼šwebpackä¸­æ–‡æ–‡æ¡£](https://www.webpackjs.com/ "ğŸ”—ï¼šwebpackä¸­æ–‡æ–‡æ¡£") )**

parcel ( [ğŸ”—ï¼šparcelä¸­æ–‡ç½‘](https://zh.parceljs.org/ "ğŸ”—ï¼šparcelä¸­æ–‡ç½‘") )

# webpackçš„åŸºæœ¬ä½¿ç”¨

## ä»€ä¹ˆæ˜¯webpack

æ¦‚å¿µï¼šwebpackæ˜¯å‰ç«¯é¡¹ç›®å·¥ç¨‹åŒ–çš„å…·ä½“è§£å†³æ–¹æ¡ˆã€‚

ä¸»è¦åŠŸèƒ½ï¼šæä¾›äº†å‹å¥½çš„å‰ç«¯æ¨¡å—åŒ–å¼€å‘æ”¯æŒï¼Œä»¥åŠä»£ç å‹ç¼©æ··æ·†ï¼ˆå‡å°ä½“ç§¯ï¼‰ã€å¤„ç†æµè§ˆå™¨ç«¯JavaScriptçš„å…¼å®¹æ€§ï¼ˆå°†é«˜çº§çš„ä»£ç è½¬æ¢æˆä½çº§çš„æ²¡æœ‰å…¼å®¹é—®é¢˜çš„ä»£ç ï¼Œæœ‰å¯¹åº”ä¸åŒç‰ˆæœ¬çš„è§£å†³æ–¹æ¡ˆï¼‰ã€æ€§èƒ½ä¼˜åŒ–ç­‰å¼ºå¤§çš„åŠŸèƒ½ã€‚

ä¼˜ç‚¹ï¼šè®©ç¨‹åºå‘˜æŠŠå·¥ä½œçš„é‡å¿ƒæ”¾åœ¨å…·ä½“åŠŸèƒ½çš„å®ç°ä¸Šï¼Œæé«˜äº†å‰ç«¯å¼€å‘æ•ˆç‡å’Œé¡¹ç›®çš„å¯ç»´æŠ¤æ€§ã€‚

ç›®å‰Vue, Reactç­‰å‰ç«¯é¡¹ç›®ï¼ŒåŸºæœ¬ä¸Šéƒ½æ˜¯åŸºäºwebpackè¿›è¡Œå·¥ç¨‹åŒ–å¼€å‘çš„ã€‚

## webpackçš„ä½¿ç”¨å®è·µâ€”â€”åˆ›å»ºåˆ—è¡¨éš”è¡Œå˜è‰²é¡¹ç›®

ï¼ˆå‘ç°é—®é¢˜ï¼Œè§£å†³é—®é¢˜ï¼‰

![1683958943016](image/å‰ç«¯å·¥ç¨‹åŒ–ä¸Webpack/1683958943016.png)

-Sç­‰ä»·äº--save

![1683959226342](image/å‰ç«¯å·¥ç¨‹åŒ–ä¸Webpack/1683959226342.png)

jqueryå®‰è£…å®Œæˆåpackage.jsonä¸­çš„ä¾èµ–
dependenciesé‡Œè£…çš„æ˜¯å¼€å‘å’Œä¸Šçº¿é˜¶æ®µéƒ½è¦ä½¿ç”¨çš„åŒ…

```html
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="./index.js"></script>
</head>

<body>
    <ul>
        <li>è¿™æ˜¯ç¬¬1ä¸ªli</li>
        <li>è¿™æ˜¯ç¬¬2ä¸ªli</li>
        <li>è¿™æ˜¯ç¬¬3ä¸ªli</li>
        <li>è¿™æ˜¯ç¬¬4ä¸ªli</li>
        <li>è¿™æ˜¯ç¬¬5ä¸ªli</li>
        <li>è¿™æ˜¯ç¬¬6ä¸ªli</li>
        <li>è¿™æ˜¯ç¬¬7ä¸ªli</li>
        <li>è¿™æ˜¯ç¬¬8ä¸ªli</li>
        <li>è¿™æ˜¯ç¬¬9ä¸ªli</li>
    </ul>
</body>

</html>
```

```javascript
/*
*index.js
*/
// 1ã€ä½¿ç”¨ES6å¯¼å…¥è¯­æ³•ï¼Œå¯¼å…¥jquery
import $ from 'jquery'

// 2ã€å®šä¹‰jqueryçš„å…¥å£å‡½æ•°
$(function () {
    // å®ç°å¥‡å¶è¡Œå˜è‰²
    $('li:odd').css('background-color', 'red')
    $('li:even').css('background-color', 'pink')
})
```

æ‰“å¼€æµè§ˆå™¨æŠ¥è¯­æ³•é”™ï¼Œæ•ˆæœæœªå®ç° ï¼š

![1683959255719](image/å‰ç«¯å·¥ç¨‹åŒ–ä¸Webpack/1683959255719.png)

æ­¤æ—¶ä½¿ç”¨webpackè§£å†³è¿™ä¸ªé—®é¢˜

## åœ¨é¡¹ç›®ä¸­å®‰è£…webpack

![1683959281924](image/å‰ç«¯å·¥ç¨‹åŒ–ä¸Webpack/1683959281924.png)

-Dç­‰ä»·äº --save-dev æŒ‡å°†è¿™ä¸¤ä¸ªåŒ…è®°å½•åœ¨devDependenciesèŠ‚ç‚¹ä¸‹

![1683959294921](image/å‰ç«¯å·¥ç¨‹åŒ–ä¸Webpack/1683959294921.png)

åªåœ¨å¼€å‘é˜¶æ®µè¦ä½¿ç”¨çš„åŒ…

## åœ¨é¡¹ç›®ä¸­é…ç½®webpack

ï¼ˆ1ï¼‰åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸­ï¼Œåˆ›å»ºåä¸ºwebpack.config.jsçš„webpacké…ç½®æ–‡ä»¶ï¼Œå¹¶åˆå§‹åŒ–å¦‚ä¸‹çš„åŸºæœ¬é…ç½®ï¼š

```javascript
// ä½¿ç”¨node.jsä¸­çš„å¯¼å‡ºè¯­æ³•ï¼Œå‘å¤–å¯¼å‡ºä¸€ä¸ªwebpackçš„é…ç½®å¯¹è±¡
module.exports = {
    // ä»£è¡¨webpackçš„è¿è¡Œæ¨¡å¼ï¼Œæœ‰ development å’Œ production
    mode: 'development'
}
```

productionæ¨¡å¼ï¼ˆéœ€è¦é‡æ–°è¿è¡Œè„šæœ¬ï¼‰ä¼šæŠŠæ–‡ä»¶å‹ç¼©ï¼ˆwebpackçš„åŠŸèƒ½ä¹‹ä¸€ï¼‰ ã€‚ä½“ç§¯å‡å°ï¼Œæ‰“åŒ…æ—¶é—´å¢é•¿

*å¼€å‘é˜¶æ®µä½¿ç”¨development è¿½æ±‚æ‰“åŒ…é€Ÿåº¦å¿«ï¼›å‘å¸ƒä¸Šçº¿é˜¶æ®µä½¿ç”¨production è¿½æ±‚æ‰“åŒ…ä½“ç§¯å°

ï¼ˆ2ï¼‰åœ¨package.jsonçš„scriptèŠ‚ç‚¹ä¸‹ï¼Œæ–°å¢devè„šæœ¬å¦‚ä¸‹ï¼š

```javascript
  "scripts": {
    "dev": "webpack"
  },
```

scriptèŠ‚ç‚¹ä¸‹çš„è„šæœ¬ï¼Œå¯ä»¥é€šè¿‡ npm run æ‰§è¡Œ ä¾‹å¦‚ npm run dev

æ­¤æ—¶çœŸæ­£æ‰§è¡Œçš„å‘½ä»¤æ˜¯ "webpack"

åœ¨è¿è¡Œwebpackä¹‹å‰ï¼Œä¼šå…ˆè¯»å–æ ¹ç›®å½•ä¸‹webpack.config.jsè¿™ä¸ªé…ç½®æ–‡ä»¶ï¼Œæ‹¿åˆ°é…ç½®æ–‡ä»¶ä¸­å‘å¤–å¯¼å‡ºçš„é…ç½®é€‰é¡¹mode

ï¼ˆ3ï¼‰åœ¨ç»ˆç«¯ä¸­è¿è¡Œ npm run dev å‘½ä»¤ï¼Œå¯åŠ¨webpackè¿›è¡Œé¡¹ç›®çš„æ‰“åŒ…æ„å»º

![1683959457299](image/å‰ç«¯å·¥ç¨‹åŒ–ä¸Webpack/1683959457299.png)

assetä»£è¡¨webpackå¤„ç†åç”Ÿæˆçš„èµ„æº main.js é»˜è®¤æ”¾åœ¨distç›®å½•ä¸‹ã€‚ä¸‹é¢ä¸¤ä¸ªè·¯å¾„æ˜¯main.jsåŒ…å«çš„ä»£ç æ–‡ä»¶

![1683959489543](image/å‰ç«¯å·¥ç¨‹åŒ–ä¸Webpack/1683959489543.png)

webpackåœ¨ç›®å½•ä¸­ç”Ÿæˆdistæ–‡ä»¶å¤¹ï¼Œå…¶ä¸‹çš„main.jsæ˜¯index.jsè§£å†³äº†å…¼å®¹æ€§é—®é¢˜åçš„ç‰ˆæœ¬

index.htmlå¼•å…¥main.jså°±æ²¡æœ‰å…¼å®¹æ€§é—®é¢˜äº†

```html
    <!-- <script src="./index.js"></script> -->
    <script src="../dist/main.js"></script>
```

 å†æ‰“å¼€æµè§ˆå™¨

![1683959560249](image/å‰ç«¯å·¥ç¨‹åŒ–ä¸Webpack/1683959560249.png)

**ä¸€äº›å°æ€»ç»“ï¼š**

### modeçš„å¯é€‰å€¼

ï¼ˆ1ï¼‰development

å¼€å‘ç¯å¢ƒ

ä¸ä¼šå¯¹æ‰“åŒ…ç”Ÿæˆçš„æ–‡ä»¶è¿›è¡Œä»£ç å‹ç¼©å’Œæ€§èƒ½ä¼˜åŒ–

æ‰“åŒ…é€Ÿåº¦å¿«ï¼Œé€‚åˆåœ¨å¼€å‘é˜¶æ®µä½¿ç”¨

ï¼ˆ2ï¼‰production

ç”Ÿäº§ç¯å¢ƒ

ä¼šå¯¹æ‰“åŒ…ç”Ÿæˆçš„æ–‡ä»¶è¿›è¡Œä»£ç å‹ç¼©å’Œæ€§èƒ½ä¼˜åŒ–

æ‰“åŒ…é€Ÿåº¦å¾ˆæ…¢ï¼Œä»…é€‚åˆåœ¨é¡¹ç›®å‘å¸ƒé˜¶æ®µä½¿ç”¨

### webpack.config.jsæ–‡ä»¶çš„ä½œç”¨

æ˜¯webpackçš„é…ç½®æ–‡ä»¶ã€‚webpackåœ¨çœŸæ­£å¼€å§‹æ‰“åŒ…æ„å»ºä¹‹å‰ï¼Œä¼šè¯»å–è¿™ä¸ªé…ç½®æ–‡ä»¶ï¼ˆæ‹¿åˆ°å‘å¤–å¯¼å‡ºçš„é…ç½®é€‰é¡¹ï¼‰ï¼Œä»è€ŒåŸºäºç»™å®šçš„é…ç½®ï¼Œå¯¹é¡¹ç›®è¿›è¡Œæ‰“åŒ…ã€‚

æ³¨æ„ï¼šç”±äºwebpackæ˜¯åŸºäºnode.jså¼€å‘å‡ºæ¥çš„æ‰“åŒ…å·¥å…·ï¼Œå› æ­¤åœ¨å®ƒçš„é…ç½®æ–‡ä»¶ä¸­ï¼Œæ”¯æŒä½¿ç”¨node.jsç›¸å…³çš„è¯­æ³•å’Œæ¨¡å—è¿›è¡Œwebpackçš„ä¸ªæ€§åŒ–é…ç½®ã€‚

### webpackä¸­çš„é»˜è®¤çº¦å®š

åœ¨webpack 4.xå’Œ5.xçš„ç‰ˆæœ¬ä¸­æœ‰å¦‚ä¸‹é»˜è®¤çº¦å®šï¼š

ï¼ˆ1ï¼‰é»˜è®¤çš„å…¥å£æ‰“åŒ…æ–‡ä»¶ä¸º src -> index.js ï¼ˆæ²¡æœ‰ä¼šæŠ¥é”™ï¼‰

ï¼ˆ2ï¼‰é»˜è®¤çš„è¾“å‡ºæ–‡ä»¶è·¯å¾„ä¸º dist -> main.js

æ³¨æ„ï¼šå¯ä»¥åœ¨webpack.config.jsä¸­ä¿®æ”¹æ‰“åŒ…çš„é»˜è®¤çº¦å®š

### è‡ªå®šä¹‰æ‰“åŒ…çš„å…¥å£å’Œå‡ºå£

åœ¨webpack.config.jsé…ç½®æ–‡ä»¶ä¸­ï¼Œé€šè¿‡entryèŠ‚ç‚¹æŒ‡å®šæ‰“åŒ…çš„å…¥å£ã€‚é€šè¿‡outputèŠ‚ç‚¹æŒ‡å®šæ‰“åŒ…çš„å‡ºå£ã€‚ç¤ºä¾‹ä»£ç ï¼š

```javascript
const path=require('path')//å¯¼å…¥node.jsä¸­ä¸“é—¨æ“ä½œè·¯å¾„çš„æ¨¡å—


module.exports = {
    entry:path.join(__dirname,'./src/index.js'),//æ‰“åŒ…å…¥å£æ–‡ä»¶çš„è·¯å¾„
    output:{
        path:path.join(__dirname,'./dist'),//è¾“å‡ºæ–‡ä»¶çš„å­˜æ”¾è·¯å¾„
        filename:'bundle.js'//è¾“å‡ºæ–‡ä»¶çš„åç§°
    }
}
```

* __dirnameä»£è¡¨å½“å‰æ–‡ä»¶çš„å­˜æ”¾è·¯å¾„
* è®°å¾—index.htmlä¸­å¼•ç”¨çš„jsæ–‡ä»¶è·¯å¾„ä¹Ÿè¦è·Ÿç€æ”¹å˜

```html
    <!-- <script src="./index.js"></script> -->
    <!-- <script src="../dist/main.js"></script> -->
    <script src="../dist/bundle.js"></script>
```

 æ¯æ¬¡ä¿®æ”¹index.jséœ€è¦é‡æ–°npm run devè¿›è¡Œæ‰“åŒ…ï¼Œé¡µé¢æ‰èƒ½å±•ç¤ºä¿®æ”¹åçš„å†…å®¹ï¼Œå¾ˆéº»çƒ¦ï¼Œä¸‹é¢ä½¿ç”¨æ’ä»¶æ¥è§£å†³

# webpackä¸­çš„æ’ä»¶

## webpackæ’ä»¶çš„ä½œç”¨

é€šè¿‡å®‰è£…å’Œé…ç½®ç¬¬ä¸‰æ–¹çš„æ’ä»¶ï¼Œå¯ä»¥æ‹“å±•webpackçš„èƒ½åŠ›ï¼Œä»è€Œä½¿webpackç”¨èµ·æ¥æ›´æ–¹ä¾¿ã€‚æœ€å¸¸ç”¨çš„webpackæ’ä»¶æœ‰å¦‚ä¸‹ä¸¤ä¸ªï¼š

ï¼ˆ1ï¼‰webpack-dev-server

ç±»ä¼¼node.jsé˜¶æ®µç”¨åˆ°çš„nodemonå·¥å…·

æ¯å½“ä¿®æ”¹äº†æºä»£ç ï¼Œwebpackä¼šè‡ªåŠ¨è¿›è¡Œé¡¹ç›®çš„æ‰“åŒ…å’Œæ„å»º

ï¼ˆ2ï¼‰html-webpack-plugin

webpackä¸­çš„HTMLæ’ä»¶ï¼ˆç±»ä¼¼äºä¸€ä¸ªæ¨¡æ¿å¼•æ“æ’ä»¶ï¼‰

å¯ä»¥é€šè¿‡æ­¤æ’ä»¶è‡ªå®šåˆ¶index.htmlé¡µé¢ä¸­çš„å†…å®¹

## å®‰è£…é…ç½®ä½¿ç”¨webpack-dev-server

### å®‰è£…webpack-dev-server

![1683960051391](image/å‰ç«¯å·¥ç¨‹åŒ–ä¸Webpack/1683960051391.png)

*è¯¥åŒ…ä¼šè¿›å…¥devDependenciesèŠ‚ç‚¹ä¸­

### é…ç½®webpack-dev-server

> ï¼ˆ1ï¼‰ä¿®æ”¹package.json -> scripts ä¸­çš„devå‘½ä»¤å¦‚ä¸‹

```javascript
"scripts": {
    "dev": "webpack serve"
  },
```

> ï¼ˆ2ï¼‰å†æ¬¡è¿è¡Œnpm run devå‘½ä»¤ï¼Œé‡æ–°è¿›è¡Œé¡¹ç›®çš„æ‰“åŒ…

ç¬”è€…åœ¨é‡æ–°è¿è¡Œçš„æ—¶å€™å‡ºç°æŠ¥é”™ â€œ Unable to load '@webpack-cli/serve' commandâ€ï¼š

![1683960086808](image/å‰ç«¯å·¥ç¨‹åŒ–ä¸Webpack/1683960086808.png)

 ç»åˆ†æçŒœæµ‹æ˜¯å› ä¸ºä¸Šæ–‡å®‰è£…çš„è„šæ‰‹æ¶webpack-cli@4.7.2å·²ä¸å…¼å®¹è¯¥æ’ä»¶ï¼Œæ•…æ”¹ä¸ºå®‰è£…webpack-cli@4.9.0ç‰ˆæœ¬ï¼ˆå®‰è£…æœ€æ–°ç‰ˆæœ¬çš„å‘½ä»¤ä¸º "npm install webpack-cli -D" ï¼Œå³ä¸æŒ‡å®šç‰ˆæœ¬å·ï¼‰

![1683960113590](image/å‰ç«¯å·¥ç¨‹åŒ–ä¸Webpack/1683960113590.png)

å†è¿è¡Œnpm run devï¼ŒæˆåŠŸ

![1683960123644](image/å‰ç«¯å·¥ç¨‹åŒ–ä¸Webpack/1683960123644.png)

å…‰æ ‡é—ªçƒä»£è¡¨åœ¨ç›‘å¬ä»£ç çš„æ”¹åŠ¨ï¼Œä¸€æ—¦æ”¹åŠ¨åä¿å­˜ä¼šè‡ªåŠ¨é‡æ–°compile

ï¼ˆ3ï¼‰åœ¨æµè§ˆå™¨ä¸­è®¿é—®http://localhost:8080åœ°å€ï¼ŒæŸ¥çœ‹è‡ªåŠ¨æ‰“åŒ…æ•ˆæœ

åœ¨fileåè®®çœ‹ä¸åˆ°ä¿®æ”¹åçš„é¡µé¢æ•ˆæœï¼Œå› ä¸ºæ­¤æ—¶projectåœ¨httpæœåŠ¡å™¨ä¸Šè¿è¡Œ

![1683960147593](image/å‰ç«¯å·¥ç¨‹åŒ–ä¸Webpack/1683960147593.png)

è¿›å…¥ src ç›®å½•ï¼Œæµè§ˆå™¨ä¼šè‡ªåŠ¨å±•ç¤ºindex.htmlé¡µé¢ã€‚æ­¤æ—¶è¿˜æ˜¯æœªæ”¹å˜çš„é¡µé¢

webpackè¾“å‡ºæ–‡ä»¶æ˜¯åœ¨æ ¹ç›®å½•ä¸‹çš„bundle.js

![1683961292885](image/å‰ç«¯å·¥ç¨‹åŒ–ä¸Webpack/1683961292885.png)

webpack-dev-serveræ²¡æœ‰å°†è¾“å‡ºæ–‡ä»¶æ”¾åœ¨ç‰©ç†ç£ç›˜ä¸Šï¼Œè€Œæ˜¯æ”¾åˆ°äº†å†…å­˜ä¸­ï¼Œæ‰€ä»¥èµ„æºç®¡ç†å™¨ä¸­çœ‹ä¸åˆ°ï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡è·¯å¾„è®¿é—®åˆ°

æ‰€ä»¥index.htmlåº”è¯¥å¼•ç”¨å†…å­˜ä¸­çš„è¾“å‡ºæ–‡ä»¶

```html
<!-- <script src="../dist/bundle.js"></script> -->
    <!-- åŠ è½½å’Œå¼•ç”¨å†…å­˜ä¸­çš„è¾“å‡ºæ–‡ä»¶ -->
    <script src="/bundle.js"></script>
```

é¡µé¢æ ·å¼å¯ä»¥å®æ—¶æ”¹å˜äº† ï¼ˆä»¥li: evençš„background-coloræ”¹æˆäº†blueä¸ºä¾‹ï¼‰

![1683961327820](image/å‰ç«¯å·¥ç¨‹åŒ–ä¸Webpack/1683961327820.png)

* oddå’Œevençš„ç´¢å¼•æ˜¯ä»0å¼€å§‹çš„
* ç»“æŸæœåŠ¡â€œctrl+câ€æŒ‰ä¸¤æ¬¡

 ä»¥ä¸Šï¼Œæ–‡ä»¶çš„è‡ªåŠ¨æ‰“åŒ…æ˜¯ç”±webpack+webpack-dev-serveræ’ä»¶å®ç°çš„ã€‚

ä½†ç°åœ¨æ¯æ¬¡è¿›å…¥æ ¹ç›®å½•è¿˜éœ€è¦å†è¿›å…¥srcç›®å½•æ‰èƒ½çœ‹åˆ°index.htmlçš„é¡µé¢ï¼Œæ¯”è¾ƒéº»çƒ¦ã€‚å¦‚æœèƒ½å¤åˆ¶ä¸€ä»½index.htmlæ”¾åˆ°é¡¹ç›®æ ¹ç›®å½•ä¸­ï¼Œå°±èƒ½ç›´æ¥æ‰“å¼€htmlé¡µé¢äº†

## å®‰è£…é…ç½®ä½¿ç”¨html-webpack-plugin

### å®‰è£…html-webpack-plugin

![1683961362742](image/å‰ç«¯å·¥ç¨‹åŒ–ä¸Webpack/1683961362742.png)

### é…ç½®html-webpack-plugin

```javascript
/**
 * webpack.config.js
 */
// 1ã€å¯¼å…¥html-webpack-pluginè¿™ä¸ªæ’ä»¶ï¼Œå¾—åˆ°æ’ä»¶çš„æ„é€ å‡½æ•°
const HtmlPlugin = require('html-webpack-plugin')

// 2ã€newæ„é€ å‡½æ•°ï¼Œåˆ›å»ºæ’ä»¶çš„å®ä¾‹å¯¹è±¡
const htmlPlugin = new HtmlPlugin({
    // æŒ‡å®šè¦å¤åˆ¶å“ªä¸ªæ–‡ä»¶
    template: './src/index.html',
    // æŒ‡å®šå¤åˆ¶å‡ºæ¥çš„æ–‡ä»¶åå’Œå­˜æ”¾è·¯å¾„
    filename: './index.html'
})

module.exports = {
    // ä»£è¡¨webpackçš„è¿è¡Œæ¨¡å¼ï¼Œæœ‰ development å’Œ production
    mode: 'development',
    // 3ã€æ’ä»¶çš„æ•°ç»„ï¼Œå°†æ¥webpackè¿è¡Œæ—¶ä¼šåŠ è½½å¹¶è°ƒç”¨è¿™äº›æ’ä»¶
    plugins:[htmlPlugin]
}
```

å† npm run dev ï¼Œè¿›å…¥[http://localhost:8080/](http://localhost:8080/ "http://localhost:8080/") é¦–é¡µï¼Œå°±èƒ½ç«‹å³çœ‹åˆ°ç«‹å³çœ‹åˆ°é¦–é¡µ

### è§£é‡Šhtml-webpack-plugin

1. é€šè¿‡HTMLæ’ä»¶å¤åˆ¶åˆ°é¡¹ç›®æ ¹ç›®å½•ä¸­çš„index.htmlé¡µé¢ï¼Œä¹Ÿè¢«æ”¾åˆ°äº†å†…å­˜ä¸­
2. HTMLæ’ä»¶åœ¨ç”Ÿæˆçš„index.htmlé¡µé¢ï¼Œè‡ªåŠ¨æ³¨å…¥äº†æ‰“åŒ…çš„bundle.jsæ–‡ä»¶ï¼ˆå³ä¸éœ€è¦æ‰‹åŠ¨åœ¨HTMLæ–‡ä»¶é‡Œå¼•å…¥bundle.jsï¼‰

## devServerèŠ‚ç‚¹

åœ¨webpack.config.jsé…ç½®æ–‡ä»¶ä¸­ï¼Œå¯ä»¥é€šè¿‡devServerèŠ‚ç‚¹å¯¹webpack-dev-serveræ’ä»¶è¿›è¡Œæ›´å¤šçš„é…ç½®ï¼Œç¤ºä¾‹ä»£ç ï¼š

```js
/*
*webpack.config.jsä¸­çš„module.exporte
*/
devServer:{
        // åˆæ¬¡æ‰“åŒ…å®Œæˆå,è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨
        open:true,
        // åœ¨httpåè®®ä¸­,å¦‚æœç«¯å£å·æ˜¯80,å¯ä»¥è¢«çœç•¥(ä»…æ˜¾ç¤ºä¸ºlocalhost)
        port:80,
        // æŒ‡å®šè¿è¡Œçš„ä¸»æœºåœ°å€
        host:'127.0.0.1'
    }
```

# webpackä¸­çš„loader

## loaderæ¦‚è¿°

åœ¨å®é™…å¼€å‘ä¸­ï¼Œwebpacké»˜è®¤åªèƒ½æ‰“åŒ…å¤„ç†ä»¥.jsåç¼€åç»“å°¾çš„æ¨¡å—ã€‚å…¶ä»–é.jsåç¼€åç»“å°¾çš„æ¨¡å—ï¼Œwebpacké»˜è®¤å¤„ç†ä¸äº†ï¼Œéœ€è¦è°ƒç”¨loaderåŠ è½½å™¨æ‰å¯ä»¥æ­£å¸¸æ‰“åŒ…ï¼Œå¦åˆ™ä¼šæŠ¥é”™ï¼

loaderåŠ è½½å™¨çš„ä½œç”¨ï¼šååŠ©webpackæ‰“åŒ…å¤„ç†ç‰¹å®šçš„æ–‡ä»¶æ¨¡å—ã€‚æ¯”å¦‚ï¼š

css-loaderå¯ä»¥æ‰“åŒ…å¤„ç†.cssç›¸å…³çš„æ–‡ä»¶

less-loaderå¯ä»¥æ‰“åŒ…å¤„ç†.lessç›¸å…³çš„æ–‡ä»¶

babel-loaderå¯ä»¥æ‰“åŒ…å¤„ç†webpackæ— æ³•å¤„ç†çš„é«˜çº§jsè¯­æ³•

## loaderè°ƒç”¨çš„è¿‡ç¨‹

![1683961648246](image/å‰ç«¯å·¥ç¨‹åŒ–ä¸Webpack/1683961648246.png)

## æ‰“åŒ…å¤„ç†CSSæ–‡ä»¶

åœ¨srcä¸‹æ–°å»ºcssæ–‡ä»¶å¤¹ï¼Œcssä¸‹æ–°å»ºindex.css

```css
/* index.css */

li {
    list-style: none;
}
```

  åœ¨index.jsä¸­å¯¼å…¥index.css

```javascript
// å¯¼å…¥æ ·å¼(åœ¨webpackä¸­,ä¸€åˆ‡çš†æ¨¡å—éƒ½å¯ä»¥é€šè¿‡ES6å¯¼å…¥è¯­æ³•è¿›è¡Œå¯¼å…¥å’Œä½¿ç”¨)
import './css/index.css'
```

ç»ˆç«¯æŠ¥é”™ï¼Œæç¤ºéœ€è¦å®‰è£…åˆé€‚çš„åŠ è½½å™¨å¤„ç†æ­¤ç±»æ–‡ä»¶![img](https://img-blog.csdnimg.cn/1232a85ef3fd4afb9617c43e6ff9e423.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAenp6enp6em9l,size_20,color_FFFFFF,t_70,g_se,x_16)

æ‰“åŒ…å¤„ç†CSSæ–‡ä»¶çš„æ­¥éª¤ï¼š

![1683961700980](image/å‰ç«¯å·¥ç¨‹åŒ–ä¸Webpack/1683961700980.png)

æ³¨æ„moduleå’Œ mode ã€entryã€outputã€pluginsã€devServerå¹³çº§

æ³¨æ„style-loaderå’Œcss-loaderé¡ºåºä¸èƒ½å†™åï¼Œå› ä¸ºloaderåœ¨è°ƒç”¨çš„æ—¶å€™æ˜¯ä»åå¾€å‰è°ƒçš„ã€‚webpackæŠŠindex.cssè¿™ä¸ªè‡ªå·±ä¸èƒ½å¤„ç†çš„æ–‡ä»¶ï¼Œå…ˆè½¬äº¤ç»™æœ€åä¸€ä¸ªä¸ªloaderï¼ˆcss-loaderï¼‰å¤„ç†ï¼Œå¤„ç†å®Œåè½¬äº¤ç»™å‰é¢ä¸€ä¸ªloaderï¼ˆstyle-loaderï¼‰ï¼Œç›´è‡³å‰é¢æ²¡æœ‰loaderäº†ï¼Œå°±è½¬äº¤ç»™webpackï¼ŒweebpackæŠŠç»“æœåˆå¹¶åˆ° /dist/bundle.jsä¸­ï¼Œæœ€ç»ˆç”Ÿæˆæ‰“åŒ…å¥½çš„æ–‡ä»¶

![1683962416875](image/å‰ç«¯å·¥ç¨‹åŒ–ä¸Webpack/1683962416875.png)

liå‰é¢çš„åœ†ç‚¹æ²¡äº†

å³ï¼Œå½“webpackå‘ç°æŸä¸ªæ–‡ä»¶å¤„ç†ä¸äº†çš„æ—¶å€™ï¼Œä¼šæŸ¥æ‰¾webpack.config.jsè¿™ä¸ªé…ç½®æ–‡ä»¶ï¼Œçœ‹module.rulesæ•°ç»„ä¸­ï¼Œæ˜¯å¦é…ç½®äº†å¯¹åº”çš„loaderåŠ è½½å™¨ã€‚

## æ‰“åŒ…å¤„ç†lessæ–‡ä»¶(å‡çº§ç‰ˆcss)

![1683962448999](image/å‰ç«¯å·¥ç¨‹åŒ–ä¸Webpack/1683962448999.png)

å®‰è£…çš„lessæ˜¯é…ç½®ä¾èµ–é¡¹ï¼Œå³less-loaderä¾èµ–çš„ï¼Œå¹¶æ²¡æœ‰åœ¨rulesä¸­ä½¿ç”¨

```css
// index.less
html, body, ul {
    margin: 0;
    padding: 0;
    li {
        line-height: 30px;
        padding-left: 20px;
        font-size: 12px;
    }
}
```

![1683962704506](image/å‰ç«¯å·¥ç¨‹åŒ–ä¸Webpack/1683962704506.png)

## æ‰“åŒ…å¤„ç†æ ·å¼è¡¨ä¸­ä¸urlè·¯å¾„ç›¸å…³çš„æ–‡ä»¶

base64å°å¤ä¹ ï¼š

ä½¿ç”¨ç›¸å¯¹è·¯å¾„å’Œbase64è·¯å¾„éƒ½èƒ½æ˜¾ç¤ºç›¸åŒçš„å°å›¾ç‰‡ã€‚ä½¿ç”¨base64å¯ä»¥é˜²æ­¢æµè§ˆå™¨å‘èµ·ä¸å¿…è¦çš„è¯·æ±‚ï¼ˆæ ‡ç­¾ä¸€æ¬¡è¯·æ±‚ï¼Œlogo.jpgåˆæ˜¯ä¸€æ¬¡è¯·æ±‚ï¼‰ï¼Œç¼ºç‚¹æ˜¯ä¼šç¨å¾®å¢åŠ ä½“ç§¯ã€‚æ‰€ä»¥ä¸€èˆ¬å›¾ç‰‡ç”¨base64

![1683962751710](image/å‰ç«¯å·¥ç¨‹åŒ–ä¸Webpack/1683962751710.png)

![1683962758433](image/å‰ç«¯å·¥ç¨‹åŒ–ä¸Webpack/1683962758433.png)

â€œï¼Ÿâ€ç”¨æ¥åˆ†éš”è·¯å¾„å’Œå‚æ•° eg. http://xxxx/com/api/getbooks?id=0

```html
<!-- index.html -->
    <!-- éœ€æ±‚ï¼šæŠŠ/src/iamges/logo.jpgè®¾ç½®ç»™srcå±æ€§ -->
    <img src="" alt="" class="box">
```

```javascript
//index.js
// 1ã€å¯¼å…¥å›¾ç‰‡ï¼Œå¾—åˆ°å›¾ç‰‡æ–‡ä»¶
import logo from './images/logo.jpg'

// 2ã€ç»™imgæ ‡ç­¾çš„srcåŠ¨æ€èµ‹å€¼
$('.box').attr('src', logo)
```

![1683962850474](image/å‰ç«¯å·¥ç¨‹åŒ–ä¸Webpack/1683962850474.png)

webpackå¤„ç†æ ·å¼çš„æ–¹å¼ï¼š

![1683962868524](image/å‰ç«¯å·¥ç¨‹åŒ–ä¸Webpack/1683962868524.png)

webpackå¤„ç†æ ·å¼çš„è¿‡ç¨‹ï¼š

 åœ¨webpackä¸­ä¸€åˆ‡çš†æ¨¡å—ï¼Œé€šè¿‡import åŠ è½½è¿‡æ¥çš„æ ·å¼æ–‡ä»¶ä¼šè¢«webpackè½¬æ¢æˆç±»ä¼¼jsçš„å½¢å¼è¿è¡Œã€‚å¦‚æœæŸä¸ªæ¨¡å—ä¸­ï¼Œæ¥æ”¶åˆ°çš„æˆå‘˜ä¸ºundefinedï¼Œåˆ™æ²¡æœ‰å¿…è¦è¿›è¡Œæ¥æ”¶ï¼Œå³â€œimport xx from xxâ€å’Œâ€œimport xxâ€çš„åŒºåˆ«ã€‚

## æ‰“åŒ…å¤„ç†jsæ–‡ä»¶ä¸­çš„é«˜çº§è¯­æ³•

![1683962920259](image/å‰ç«¯å·¥ç¨‹åŒ–ä¸Webpack/1683962920259.png)

è£…é¥°å™¨åœ¨Reactä¸­ä½¿ç”¨ï¼Œä¸ç†è§£æ²¡å…³ç³»ï¼Œåªéœ€çŸ¥é“è¿™æ˜¯ä¸ªwebpackæ— æ³•å¤„ç†çš„é«˜çº§è¯­æ³•
Personç±»é‚£é‡Œä¼šæœ‰çº¢çº¿ï¼Œæ˜¯è­¦å‘Šä¸å»ºè®®ä½¿ç”¨ä¸ç¨³å®šçš„è¯­æ³•ï¼ŒéæŠ¥é”™

![1683962958840](image/å‰ç«¯å·¥ç¨‹åŒ–ä¸Webpack/1683962958840.png)

### å®‰è£…babel-loaderç›¸å…³çš„åŒ…

![1683962981446](image/å‰ç«¯å·¥ç¨‹åŒ–ä¸Webpack/1683962981446.png)

è§£å†³å…¼å®¹æ€§é—®é¢˜åº”è¯¥é™¤å»ä¾èµ–åŒ…ï¼Œåº”ä¸ºåªæœ‰ç¨‹åºå‘˜å†™çš„ä»£ç éœ€è¦å¤„ç†

### é…ç½®babel-loader

![1683963013712](image/å‰ç«¯å·¥ç¨‹åŒ–ä¸Webpack/1683963013712.png)

è¯¥æ’ä»¶å®˜æ–¹æ–‡æ¡£ğŸ”—ï¼š[@babel/plugin-proposal-decorators Â· Babel](https://babeljs.io/docs/en/babel-plugin-proposal-decorators "@babel/plugin-proposal-decorators Â· Babel") ï¼ˆæ’ä»¶é…ç½®å‡å¯åœ¨å®˜æ–¹æ–‡æ¡£æŸ¥çœ‹ç²˜è´´ï¼‰

# æ‰“åŒ…å‘å¸ƒ

å‘å¸ƒä¸Šçº¿ï¼šå‰ç«¯å°†å†™å¥½çš„é¡¹ç›®æ–‡ä»¶æ‰“åŒ…ï¼ˆdistï¼‰å‘ç»™åç«¯ï¼Œåç«¯éƒ¨ç½²ä¸Šçº¿

ç°åœ¨éœ€è¦è§£å†³çš„é—®é¢˜æ˜¯ï¼šæŠŠé¡µé¢ï¼ˆæ ¹ç›®å½•ä¸‹çš„index.htmlå’Œbundle.jsï¼‰ç”Ÿæˆåˆ°å®é™…çš„ç‰©ç†ç£ç›˜ä¸Š

![1683963099943](image/å‰ç«¯å·¥ç¨‹åŒ–ä¸Webpack/1683963099943.png)

## é…ç½®webpackçš„æ‰“åŒ…å‘å¸ƒ

![1683963127031](image/å‰ç«¯å·¥ç¨‹åŒ–ä¸Webpack/1683963127031.png)

JSONé‡Œé¢ä¸èƒ½å†™æ³¨é‡Šï¼Œåˆ«å­¦è¿™ä¸ª

![1683963143569](image/å‰ç«¯å·¥ç¨‹åŒ–ä¸Webpack/1683963143569.png)

npm run buildç”Ÿäº§æ¨¡å¼æ‰“åŒ…æˆåŠŸ

![1683963153198](image/å‰ç«¯å·¥ç¨‹åŒ–ä¸Webpack/1683963153198.png)

distæ–‡ä»¶å¤¹æ˜¯æ‰“åŒ…åå³æ—¶ç”Ÿæˆçš„ï¼Œå¯ä»¥åˆ å»é‡æ–°æ‰“åŒ…ï¼ˆåº”è¯¥è¯´ä¿®æ”¹webpacké…ç½®åé‡æ–°æ‰“åŒ…å‰å¿…é¡»è¦åˆ ï¼Œè¿è¡Œå†é‡æ–°ç”Ÿæˆï¼Œè¿™æ ·ä¼šå¾ˆéº»çƒ¦ï¼Œä¸‹é¢ä¼šè§£å†³è¿™ä¸ªé—®é¢˜ï¼‰

## æŠŠJavaScriptæ–‡ä»¶ç»Ÿä¸€ç”Ÿæˆåˆ°jsç›®å½•ä¸­

![1683963333683](image/å‰ç«¯å·¥ç¨‹åŒ–ä¸Webpack/1683963333683.png)

## æŠŠå›¾ç‰‡æ–‡ä»¶ç»Ÿä¸€ç”Ÿæˆåˆ°imageç›®å½•ä¸­

> ä¿®æ”¹webpack.config.jsä¸­çš„url-loaderé…ç½®é¡¹ï¼Œæ–°å¢outPathé€‰é¡¹å³å¯æŒ‡å®šå›¾ç‰‡æ–‡ä»¶çš„è¾“å‡ºè·¯å¾„

```javascript
//webpack.config.jsä¸­module.rules
// åœ¨é…ç½®url-loaderçš„æ—¶å€™ï¼Œå¤šä¸ªå‚æ•°ç”¨&è¿›è¡Œåˆ†éš”
{ test: /\.jpg|png|gif$/, use: 'url-loader?limit=22229&outputPath=images' },
```

## è‡ªåŠ¨æ¸…ç†distç›®å½•ä¸‹çš„æ—§æ–‡ä»¶

![1683963586429](image/å‰ç«¯å·¥ç¨‹åŒ–ä¸Webpack/1683963586429.png)

å­¦ä¼šåœ¨npm.jså®˜æ–¹æ–‡æ¡£æŸ¥æ‰¾webpackæ’ä»¶çš„å®‰è£…é…ç½®æ–¹å¼

![1683963612552](image/å‰ç«¯å·¥ç¨‹åŒ–ä¸Webpack/1683963612552.png)

clean-webpack-pluginçš„å®‰è£…ä¸ä½¿ç”¨
å…ˆå£°æ˜ä¸€ä¸ªæ„é€ å‡½æ•°ï¼ˆå·¦ä¾§çš„èŠ±æ‹¬å·æ˜¯è§£æ„èµ‹å€¼ï¼‰ï¼Œå†åœ¨pluginsæ•°ç»„é‡Œå®ä¾‹åŒ–

ç°åœ¨npm run buildæ—¶webpackä¼šè‡ªåŠ¨å…ˆåˆ é™¤æ—§çš„distå†ç”Ÿæˆæ–°çš„dist

# Source Map

## ä»€ä¹ˆæ˜¯Source Map

 Source Mapæ˜¯ä¸€ä¸ªä¿¡æ¯æ–‡ä»¶ï¼Œé‡Œé¢å­˜å‚¨ç€ä½ç½®ä¿¡æ¯ã€‚å³Source Mapå­˜å‚¨ç€å‹ç¼©æ··æ·†åçš„ä»£ç ï¼Œæ‰€å¯¹åº”çš„è½¬æ¢å‰çš„ä½ç½®ã€‚æœ‰äº†å®ƒï¼Œå‡ºé”™çš„æ—¶å€™ï¼Œé™¤é”™å·¥å…·å°†ç›´æ¥æ˜¾ç¤ºåŸå§‹ä»£ç ï¼Œè€Œä¸æ˜¯è½¬æ¢åçš„ä»£ç ï¼Œèƒ½æå¤§çš„æ–¹ä¾¿åæœŸçš„è°ƒè¯•

eg. æ§åˆ¶å°çš„æŠ¥é”™è¡Œæ˜¯bundle.jsæ‰“åŒ…åçš„è¡Œæ•°ï¼Œè¦è½¬ä¸ºåŸå§‹index.jsçš„è¡Œæ•°

## webpackå¼€å‘ç¯å¢ƒä¸‹çš„Source Map

å¼€å‘ç¯å¢ƒä¸‹ï¼Œwebpacké»˜è®¤å¯ç”¨äº†Source MapåŠŸèƒ½ã€‚å½“ç¨‹åºè¿è¡Œå‡ºé”™æ—¶ï¼Œå¯ä»¥ç›´æ¥åœ¨æ§åˆ¶å°æç¤ºé”™è¯¯è¡Œçš„ä½ç½®ï¼Œå¹¶å®šä½åˆ°å…·ä½“çš„æºä»£ç 

![1683963707229](image/å‰ç«¯å·¥ç¨‹åŒ–ä¸Webpack/1683963707229.png)

## é»˜è®¤Source Mapçš„é—®é¢˜

å¼€å‘ç¯å¢ƒä¸‹ç”Ÿæˆçš„Source Map ï¼Œè®°å½•çš„æ˜¯ç”Ÿæˆåä»£ç çš„ä½ç½®ï¼Œä¼šå¯¼è‡´è¿è¡Œæ—¶æŠ¥é”™çš„è¡Œæ•°å’Œæºä»£ç è¡Œæ•°ä¸ä¸€è‡´çš„é—®é¢˜ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š

![1683963791718](image/å‰ç«¯å·¥ç¨‹åŒ–ä¸Webpack/1683963791718.png)

## è§£å†³é»˜è®¤Source Mapçš„é—®é¢˜

![1683963753617](image/å‰ç«¯å·¥ç¨‹åŒ–ä¸Webpack/1683963753617.png)

![1683963748583](image/å‰ç«¯å·¥ç¨‹åŒ–ä¸Webpack/1683963748583.png)

![1683963823910](image/å‰ç«¯å·¥ç¨‹åŒ–ä¸Webpack/1683963823910.png)

## webpackç”Ÿäº§ç¯å¢ƒä¸‹çš„Source Map

åœ¨ç”Ÿäº§ç¯å¢ƒä¸‹ï¼Œå¦‚æœçœç•¥äº†devtoolé€‰é¡¹ï¼Œåˆ™æœ€ç»ˆç”Ÿæˆçš„æ–‡ä»¶ä¸­ä¸åŒ…å«Source Mapï¼Œè¿™èƒ½å¤Ÿé˜²æ­¢æºä»£ç é€šè¿‡Source Mapçš„å½¢å¼æš´éœ²ç»™åˆ«æœ‰æ‰€å›¾ä¹‹äºº

![1683963845905](image/å‰ç«¯å·¥ç¨‹åŒ–ä¸Webpack/1683963845905.png)

### åªå®šä½è¡Œæ•°ä¸æš´éœ²æºç 

![1683963863884](image/å‰ç«¯å·¥ç¨‹åŒ–ä¸Webpack/1683963863884.png)

### å®šä½è¡Œæ•°ä¸”æš´éœ²æºç 

 ï¼ˆä¸æ¨èï¼‰

![1683963890050](image/å‰ç«¯å·¥ç¨‹åŒ–ä¸Webpack/1683963890050.png)

## Source Mapçš„æœ€ä½³å®è·µ

![1683963927213](image/å‰ç«¯å·¥ç¨‹åŒ–ä¸Webpack/1683963927213.png)

ä»¥ä¸Šï¼Œä»‹ç»äº†webpackçš„ä¸€äº›é…ç½®ï¼Œå¯ä»¥çœ‹åˆ°æ˜¯æ¯”è¾ƒå¤æ‚å®¹æ˜“å‡ºé”™çš„ï¼Œåœ¨å®é™…å¼€å‘ä¸­å¾€å¾€å€ŸåŠ©å‘½ä»¤è¡Œå·¥å…·ï¼ˆä¿—ç§°CLIï¼‰ä¸€é”®ç”Ÿæˆå¸¦æœ‰webpackçš„é¡¹ç›®ï¼Œä¸éœ€è¦è‡ªå·±é…ç½®ï¼Œå¼€ç®±å³ç”¨ï¼Œæ‰€æœ‰çš„webpacké…ç½®é¡¹éƒ½æ˜¯ç°æˆçš„(å¯ä»¥åœ¨è„šæ‰‹æ¶ä¸Šè¿›è¡ŒäºŒæ¬¡é…ç½®)ã€‚ä½†ä»¥ä¸Šå®æ“å¹¶ä¸æ˜¯æ— ç”¨åŠŸï¼Œäº†è§£ä¸€äº›åŸºç¡€åŸç†æœ‰åŠ©äºæ›´å¥½åœ°ç†è§£é¡¹ç›®æ‰“åŒ…ï¼Œä»¥åŠé‡åˆ°ä¸€äº›æŠ¥é”™æ—¶èƒ½å¤ŸçŸ¥é“åŸå› ã€‚

**è¡¥å……ï¼š**

åœ¨importå¯¼å…¥æ–‡ä»¶çš„æ—¶å€™å»ºè®®ä½¿ç”¨ @ è¡¨ç¤ºæºä»£ç ç›®å½•ï¼Œä»å¤–å¾€é‡ŒæŸ¥æ‰¾ ä¸è¦ä½¿ç”¨../ä»é‡Œå¾€å¤–æŸ¥æ‰¾ã€‚ä½†åœ¨ä½¿ç”¨å‰éœ€è¦é…ç½®webpack

```javascript

/**
     * webpack.config.js ä¸moduleå¹³é½
     */
    resolve: {
        alias: {
            // å‘Šè¯‰webpackï¼Œç¨‹åºå‘˜å†™çš„ä»£ç ä¸­ï¼Œ@ç¬¦å·è¡¨ç¤ºsrcè¿™ä¸€å±‚ç›®å½•
            '@': path.join(__dirname, './src/')
        }
    }
```

è¿™æ ·å¯ä»¥ç”¨ â€œimport msg from '@/msg.js' â€ä»£æ›¿â€œimport msg from '../../msg.js' â€

# æ€»ç»“

ä»¥ä¸Šå­¦ä¹ äº†ä¸€äº›å‰ç«¯å·¥ç¨‹åŒ–çš„å†…å®¹ï¼Œå¦‚webpackçš„ç®€å•ä½¿ç”¨ã€webpackæ’ä»¶è§£å†³ç”Ÿäº§è¿‡ç¨‹ä¸­çš„éœ€æ±‚ã€é¡¹ç›®çš„æ‰“åŒ…å‘å¸ƒç­‰ç­‰ã€‚åœ¨å®é™…ç”Ÿäº§ä¸­å…¶å®å¾€å¾€å¹¶ä¸éœ€è¦æ‰‹åŠ¨é…ç½®webpackï¼Œå¯ä»¥å€ŸåŠ©è„šæ‰‹æ¶æˆ–ç¬¬ä¸‰æ–¹å‰ç«¯åº”ç”¨æ¡†æ¶å¼€ç®±å³ç”¨é…ç½®å¥½çš„webpackã€‚ä½†é€šè¿‡ç®€å•äº†è§£webpackçš„ä¸€äº›æ¦‚å¿µä»¥åŠå¸¸è§é…ç½®ï¼Œæœ‰åŠ©äºæ›´å¥½åœ°ç†è§£é¡¹ç›®å¼€å‘è¿‡ç¨‹ï¼Œä»¥åŠæœ‰éœ€æ±‚éœ€è¦æ›´æ”¹é…ç½®æ—¶çŸ¥é“å¦‚ä½•ä¸‹æ‰‹ã€‚è¿™å³æ˜¯æœ¬ç« å­¦ä¹ çš„ç›®çš„ã€‚

æ­¤ç« æ‰€æœ‰é…ç½® webpack.config.js æ–‡ä»¶ä»£ç å±•ç¤ºï¼š

```javascript
const path = require('path')

// 1. å¯¼å…¥ html-webpack-plugin è¿™ä¸ªæ’ä»¶ï¼Œå¾—åˆ°æ’ä»¶çš„æ„é€ å‡½æ•°
const HtmlPlugin = require('html-webpack-plugin')
// 2. new æ„é€ å‡½æ•°ï¼Œåˆ›å»ºæ’ä»¶çš„å®ä¾‹å¯¹è±¡
const htmlPlugin = new HtmlPlugin({
  // æŒ‡å®šè¦å¤åˆ¶å“ªä¸ªé¡µé¢
  template: './src/index.html',
  // æŒ‡å®šå¤åˆ¶å‡ºæ¥çš„æ–‡ä»¶åå’Œå­˜æ”¾è·¯å¾„
  filename: './index.html'
})

// æ³¨æ„ï¼šå·¦ä¾§çš„ { } æ˜¯è§£æ„èµ‹å€¼
const { CleanWebpackPlugin } = require('clean-webpack-plugin')

// ä½¿ç”¨ Node.js ä¸­çš„å¯¼å‡ºè¯­æ³•ï¼Œå‘å¤–å¯¼å‡ºä¸€ä¸ª webpack çš„é…ç½®å¯¹è±¡
module.exports = {
  // åœ¨å¼€å‘è°ƒè¯•é˜¶æ®µï¼Œå»ºè®®å¤§å®¶éƒ½æŠŠ devtool çš„å€¼è®¾ç½®ä¸º eval-source-map
  // devtool: 'eval-source-map',
  // åœ¨å®é™…å‘å¸ƒçš„æ—¶å€™ï¼Œå»ºè®®å¤§å®¶æŠŠ devtool çš„å€¼è®¾ç½®ä¸º nosources-source-map æˆ–ç›´æ¥å…³é—­ SourceMap
  devtool: 'nosources-source-map',
  // mode ä»£è¡¨ webpack è¿è¡Œçš„æ¨¡å¼ï¼Œå¯é€‰å€¼æœ‰ä¸¤ä¸ª development å’Œ production
  // ç»“è®ºï¼šå¼€å‘æ—¶å€™ä¸€å®šè¦ç”¨ developmentï¼Œå› ä¸ºè¿½æ±‚çš„æ˜¯æ‰“åŒ…çš„é€Ÿåº¦ï¼Œè€Œä¸æ˜¯ä½“ç§¯ï¼›
  // åè¿‡æ¥ï¼Œå‘å¸ƒä¸Šçº¿çš„æ—¶å€™ä¸€å®šèƒ½è¦ç”¨ productionï¼Œå› ä¸ºä¸Šçº¿è¿½æ±‚çš„æ˜¯ä½“ç§¯å°ï¼Œè€Œä¸æ˜¯æ‰“åŒ…é€Ÿåº¦å¿«ï¼
  mode: 'development',
  // entry: 'æŒ‡å®šè¦å¤„ç†å“ªä¸ªæ–‡ä»¶'
  entry: path.join(__dirname, './src/index1.js'),
  // æŒ‡å®šç”Ÿæˆçš„æ–‡ä»¶è¦å­˜æ”¾åˆ°å“ªé‡Œ
  output: {
    // å­˜æ”¾çš„ç›®å½•
    path: path.join(__dirname, 'dist'),
    // ç”Ÿæˆçš„æ–‡ä»¶å
    filename: 'js/bundle.js'
  },
  // 3. æ’ä»¶çš„æ•°ç»„ï¼Œå°†æ¥ webpack åœ¨è¿è¡Œæ—¶ï¼Œä¼šåŠ è½½å¹¶è°ƒç”¨è¿™äº›æ’ä»¶
  plugins: [htmlPlugin, new CleanWebpackPlugin()],
  devServer: {
    // é¦–æ¬¡æ‰“åŒ…æˆåŠŸåï¼Œè‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨
    open: true,
    // åœ¨ http åè®®ä¸­ï¼Œå¦‚æœç«¯å£å·æ˜¯ 80ï¼Œåˆ™å¯ä»¥è¢«çœç•¥
    port: 80,
    // æŒ‡å®šè¿è¡Œçš„ä¸»æœºåœ°å€
    host: '127.0.0.1'
  },
  module: {
    rules: [
      // å®šä¹‰äº†ä¸åŒæ¨¡å—å¯¹åº”çš„ loader
      { test: /\.css$/, use: ['style-loader', 'css-loader'] },
      // å¤„ç† .less æ–‡ä»¶çš„ loader
      { test: /\.less$/, use: ['style-loader', 'css-loader', 'less-loader'] },
      // å¤„ç†å›¾ç‰‡æ–‡ä»¶çš„ loader
      // å¦‚æœéœ€è¦è°ƒç”¨çš„ loader åªæœ‰ä¸€ä¸ªï¼Œåˆ™åªä¼ é€’ä¸€ä¸ªå­—ç¬¦ä¸²ä¹Ÿè¡Œï¼Œå¦‚æœæœ‰å¤šä¸ªloaderï¼Œåˆ™å¿…é¡»æŒ‡å®šæ•°ç»„
      // åœ¨é…ç½® url-loader çš„æ—¶å€™ï¼Œå¤šä¸ªå‚æ•°ä¹‹é—´ï¼Œä½¿ç”¨ & ç¬¦å·è¿›è¡Œåˆ†éš”
      { test: /\.jpg|png|gif$/, use: 'url-loader?limit=470&outputPath=images' },
      // ä½¿ç”¨ babel-loader å¤„ç†é«˜çº§çš„ JS è¯­æ³•
      // åœ¨é…ç½® babel-loader çš„æ—¶å€™ï¼Œç¨‹åºå‘˜åªéœ€è¦æŠŠè‡ªå·±çš„ä»£ç è¿›è¡Œè½¬æ¢å³å¯ï¼›ä¸€å®šè¦æ’é™¤ node_modules ç›®å½•ä¸­çš„ JS æ–‡ä»¶
      // å› ä¸ºç¬¬ä¸‰æ–¹åŒ…ä¸­çš„ JS å…¼å®¹æ€§ï¼Œä¸éœ€è¦ç¨‹åºå‘˜å…³å¿ƒ
      { test: /\.js$/, use: 'babel-loader', exclude: /node_modules/ }
    ]
  },
  resolve: {
    alias: {
      // å‘Šè¯‰ webpackï¼Œç¨‹åºå‘˜å†™çš„ä»£ç ä¸­ï¼Œ@ ç¬¦å·è¡¨ç¤º src è¿™ä¸€å±‚ç›®å½•
      '@': path.join(__dirname, './src/')
    }
  }
}
```


**ä¿®æ”¹é»˜è®¤çš„webpacké…ç½®**

éœ€è¦åœ¨æ ¹ç›®å½•ä¸­åˆ›å»º vue.config.js æ–‡ä»¶ï¼Œåœ¨è¿™ä¸ªæ–‡ä»¶ä¸­ä¿®æ”¹ç›¸å…³é…ç½®ï¼Œä¸‹é¢ä»£ç å°±æ˜¯ä¿®æ”¹webpackçš„ç›¸å…³é…ç½®

```js
module.exports = {
  //=>process.env.NODE_ENVï¼šç¯å¢ƒå˜é‡ä¸­å­˜å‚¨çš„æ˜¯å¼€å‘ç¯å¢ƒè¿˜æ˜¯ç”Ÿäº§ç¯å¢ƒ
  publicPath: process.env.NODE_ENV === 'production' &ï¼ƒ63; 'http://www.xxx.cn/' : '/',
  //=>outputDir
  //=>è‡ªå®šä¹‰ç›®å½•åç§°ï¼ŒæŠŠç”Ÿæˆçš„JS/CSS/å›¾ç‰‡ç­‰é™æ€èµ„æºæ”¾ç½®åˆ°è¿™ä¸ªç›®å½•ä¸­
  assetsDir: 'assets',
  //=>å…³é—­ç”Ÿäº§ç¯å¢ƒä¸‹çš„èµ„æºæ˜ å°„ï¼ˆç”Ÿäº§ç¯å¢ƒä¸‹ä¸åœ¨åˆ›å»ºxxx.js.mapæ–‡ä»¶ï¼‰
  productionSourceMap: false,
  //=>è®¾ç½®ä¸€äº›webpacké…ç½®é¡¹ï¼Œç”¨è¿™äº›é…ç½®é¡¹å’Œé»˜è®¤çš„é…ç½®é¡¹åˆå¹¶
  configureWebpack: {
      plugins: []
  },
  //=>ç›´æ¥å»ä¿®æ”¹å†…ç½®çš„webpacké…ç½®é¡¹
  chainWebpack: cOnfig=> {
      //=>config:åŸå§‹é…ç½®ä¿¡æ¯å¯¹è±¡
      config.module
          .rule('images')
          .use('url-loader')
          .loader('url-loader')
          .tap(optiOns=> {
              options.limit = 200 * 1024;
              return options;
          });
  },
  //=>ä¿®æ”¹webpack-dev-serveré…ç½®ï¼ˆå°¤å…¶æ˜¯è·¨åŸŸä»£ç†ï¼‰
  devServer: {
      proxy: {
          //è¯·æ±‚åœ°å€ /user/add
          //ä»£ç†åœ°å€ http://api.xxx.cn/user/add
          "/": {
              changeOrigin: true,
              target: "http://api.xxx.cn/"
          }
      }
  },
  //=>å¤šä½™1æ ¸cpuæ—¶ï¼šå¯åŠ¨å¹¶è¡Œå‹ç¼©
  parallel: require('os').cpus().length > 1
}
```
